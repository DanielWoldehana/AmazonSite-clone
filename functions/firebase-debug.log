[debug] [2021-04-02T18:51:51.571Z] ----------------------------------------------------------------------
[debug] [2021-04-02T18:51:51.573Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2021-04-02T18:51:51.574Z] CLI Version:   9.8.0
[debug] [2021-04-02T18:51:51.574Z] Platform:      darwin
[debug] [2021-04-02T18:51:51.574Z] Node Version:  v14.16.0
[debug] [2021-04-02T18:51:51.575Z] Time:          Fri Apr 02 2021 14:51:51 GMT-0400 (Eastern Daylight Time)
[debug] [2021-04-02T18:51:51.576Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-04-02T18:51:51.588Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-04-02T18:51:51.588Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-04-02T18:51:51.661Z] [hub] writing locator at /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/hub-fir-clone-f64a5.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "12" doesn't match your global version "14" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"14\""}}
[debug] [2021-04-02T18:51:51.711Z] defaultcredentials: writing to file /Users/danielwoldehana/.config/firebase/danielwoldehana_gmail_com_application_default_credentials.json
[debug] [2021-04-02T18:51:51.716Z] Setting GAC to /Users/danielwoldehana/.config/firebase/danielwoldehana_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/danielwoldehana/.config/firebase/danielwoldehana_gmail_com_application_default_credentials.json"}}
[debug] [2021-04-02T18:51:51.719Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/fir-clone-f64a5/adminSdkConfig [none]
[debug] [2021-04-02T18:51:51.964Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/fir-clone-f64a5/adminSdkConfig 200
[debug] [2021-04-02T18:51:51.964Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/fir-clone-f64a5/adminSdkConfig {"projectId":"fir-clone-f64a5","databaseURL":"https://fir-clone-f64a5-default-rtdb.firebaseio.com","storageBucket":"fir-clone-f64a5.appspot.com"}
[debug] [2021-04-02T18:51:52.263Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/fir-clone-f64a5/webApps/-/config [none]
[debug] [2021-04-02T18:51:52.713Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/fir-clone-f64a5/webApps/-/config 200
[debug] [2021-04-02T18:51:52.713Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/fir-clone-f64a5/webApps/-/config {"projectId":"fir-clone-f64a5","appId":"1:857017958477:web:17f618a21369c1e5085c04","databaseURL":"https://fir-clone-f64a5-default-rtdb.firebaseio.com","storageBucket":"fir-clone-f64a5.appspot.com","apiKey":"AIzaSyArJ3LKhu8XF38zVeuYJ1-eAIrlKEbmsNY","authDomain":"fir-clone-f64a5.firebaseapp.com","messagingSenderId":"857017958477","measurementId":"G-QG9KQ1VPSX"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-04-02T18:51:52.785Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-04-02T18:51:52.786Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-04-02T18:51:52.786Z] Starting Emulator UI with command {"binary":"node","args":["/Users/danielwoldehana/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/danielwoldehana/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-04-02T18:51:53.010Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2021-04-02T18:51:53.083Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-02T18:51:53.084Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-04-02T18:51:53.084Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-02T18:51:53.085Z] [worker-~diagnostic~-f47e9e6a-1d0f-478c-827c-07f6515fe12c]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66213.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f47e9e6a-1d0f-478c-827c-07f6515fe12c]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66213.sock"}}
[debug] [2021-04-02T18:51:53.085Z] [worker-~diagnostic~-f47e9e6a-1d0f-478c-827c-07f6515fe12c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f47e9e6a-1d0f-478c-827c-07f6515fe12c]: BUSY"}}
[debug] [2021-04-02T18:51:53.360Z] [runtime-status] [66213] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T18:51:53.361Z] [runtime-status] [66213] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Disabled runtime features: undefined"}}
[debug] [2021-04-02T18:51:53.365Z] [runtime-status] [66213] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T18:51:53.368Z] [runtime-status] [66213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:51:53.372Z] [runtime-status] [66213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:51:53.373Z] [runtime-status] [66213] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T18:51:53.373Z] [runtime-status] [66213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:51:53.477Z] [runtime-status] [66213] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T18:51:53.478Z] [runtime-status] [66213] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T18:51:53.479Z] [runtime-status] [66213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:51:53.480Z] [runtime-status] [66213] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T18:51:53.480Z] [runtime-status] [66213] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:51:53.480Z] [runtime-status] [66213] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [66213] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/fir-clone-f64a5/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/fir-clone-f64a5/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-04-02T18:51:53.789Z] [worker-~diagnostic~-f47e9e6a-1d0f-478c-827c-07f6515fe12c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f47e9e6a-1d0f-478c-827c-07f6515fe12c]: IDLE"}}
[debug] [2021-04-02T18:52:54.358Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T18:52:54.359Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T18:52:54.360Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=10324 --> api
[debug] [2021-04-02T18:52:54.392Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T18:52:54.393Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T18:52:54.394Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T18:52:54.394Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T18:52:54.394Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY"}}
[debug] [2021-04-02T18:52:55.047Z] [runtime-status] [66229] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T18:52:55.049Z] [runtime-status] [66229] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Disabled runtime features: undefined"}}
[debug] [2021-04-02T18:52:55.054Z] [runtime-status] [66229] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T18:52:55.058Z] [runtime-status] [66229] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:52:55.064Z] [runtime-status] [66229] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:52:55.068Z] [runtime-status] [66229] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T18:52:55.069Z] [runtime-status] [66229] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:52:55.172Z] [runtime-status] [66229] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T18:52:55.173Z] [runtime-status] [66229] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T18:52:55.175Z] [runtime-status] [66229] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:52:55.176Z] [runtime-status] [66229] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T18:52:55.177Z] [runtime-status] [66229] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T18:52:55.177Z] [runtime-status] [66229] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T18:52:55.428Z] [runtime-status] [66229] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T18:52:55.429Z] [runtime-status] [66229] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T18:52:55.430Z] [runtime-status] [66229] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Running api in mode HTTPS"}}
[debug] [2021-04-02T18:52:55.440Z] [runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T18:52:55.442Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T18:52:55.443Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324"}}
[debug] [2021-04-02T18:52:55.455Z] [runtime-status] [66229] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 10324 {"user":"payment request recieved for this amount!! 10324","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 10324"}}
[debug] [2021-04-02T18:52:55.483Z] [runtime-status] [66229] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T18:52:55.949Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: IDLE"}}
[debug] [2021-04-02T18:52:55.949Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T18:59:36.787Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T18:59:36.787Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T18:59:36.787Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=10324 --> api
[debug] [2021-04-02T18:59:36.787Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T18:59:36.788Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T18:59:36.788Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY"}}
[debug] [2021-04-02T18:59:36.790Z] [runtime-status] [66229] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T18:59:36.791Z] [runtime-status] [66229] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T18:59:36.791Z] [runtime-status] [66229] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Running api in mode HTTPS"}}
[debug] [2021-04-02T18:59:36.792Z] [runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T18:59:36.794Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T18:59:36.795Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324"}}
[debug] [2021-04-02T18:59:36.804Z] [runtime-status] [66229] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server handling POST request"}}
[debug] [2021-04-02T18:59:36.804Z] [runtime-status] [66229] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 10324 {"user":"payment request recieved for this amount!! 10324","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 10324"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T18:59:37.308Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: IDLE"}}
[debug] [2021-04-02T18:59:37.308Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:05:46.631Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:05:46.633Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:05:46.633Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=10324 --> api
[debug] [2021-04-02T19:05:46.634Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:05:46.634Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T19:05:46.634Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY"}}
[debug] [2021-04-02T19:05:46.640Z] [runtime-status] [66229] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:05:46.647Z] [runtime-status] [66229] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:05:46.647Z] [runtime-status] [66229] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:05:46.647Z] [runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T19:05:46.657Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:05:46.658Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324"}}
[debug] [2021-04-02T19:05:46.667Z] [runtime-status] [66229] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 10324 {"user":"payment request recieved for this amount!! 10324","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 10324"}}
[debug] [2021-04-02T19:05:46.673Z] [runtime-status] [66229] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:05:47.176Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: IDLE"}}
[debug] [2021-04-02T19:05:47.176Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:06:58.127Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:06:58.127Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:06:58.127Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:06:58.127Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:06:58.127Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T19:06:58.128Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: BUSY"}}
[debug] [2021-04-02T19:06:58.128Z] [runtime-status] [66229] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:06:58.129Z] [runtime-status] [66229] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:06:58.129Z] [runtime-status] [66229] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:06:58.129Z] [runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66229.sock"}}
[debug] [2021-04-02T19:06:58.130Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:06:58.130Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:06:58.134Z] [runtime-status] [66229] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:06:58.136Z] [runtime-status] [66229] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66229] Ephemeral server survived."}}
[info] >  (node:66229) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66229) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66229) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66229) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66229) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66229) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66229) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66229) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66229) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:07:58.170Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: exited"}}
[debug] [2021-04-02T19:07:58.170Z] [worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5a81543-fae2-44a0-b6f5-a26910c2087a]: FINISHED"}}
[debug] [2021-04-02T19:07:58.170Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:09:52.989Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:09:52.989Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:09:52.989Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=165272 --> api
[debug] [2021-04-02T19:09:52.989Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:09:53.004Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:09:53.004Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:09:53.004Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:09:53.004Z] [worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock"}}
[debug] [2021-04-02T19:09:53.005Z] [worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: BUSY"}}
[debug] [2021-04-02T19:09:53.525Z] [runtime-status] [66397] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:09:53.529Z] [runtime-status] [66397] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:09:53.537Z] [runtime-status] [66397] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:09:53.544Z] [runtime-status] [66397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:09:53.549Z] [runtime-status] [66397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:09:53.563Z] [runtime-status] [66397] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:09:53.563Z] [runtime-status] [66397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:09:53.685Z] [runtime-status] [66397] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:09:53.686Z] [runtime-status] [66397] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:09:53.689Z] [runtime-status] [66397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:09:53.690Z] [runtime-status] [66397] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:09:53.690Z] [runtime-status] [66397] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:09:53.693Z] [runtime-status] [66397] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:09:54.017Z] [runtime-status] [66397] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:09:54.017Z] [runtime-status] [66397] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:09:54.018Z] [runtime-status] [66397] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:09:54.030Z] [runtime-status] [66397] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock"}}
[debug] [2021-04-02T19:09:54.033Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:09:54.034Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=165272, mapping to path=/payments/create?total=165272 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=165272, mapping to path=/payments/create?total=165272"}}
[debug] [2021-04-02T19:09:54.051Z] [runtime-status] [66397] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 165272 {"user":"payment request recieved for this amount!! 165272","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 165272"}}
[debug] [2021-04-02T19:09:54.135Z] [runtime-status] [66397] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:09:54.573Z] [worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: IDLE"}}
[debug] [2021-04-02T19:09:54.573Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:10:06.067Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:10:06.067Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:10:06.067Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:10:06.067Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:10:06.067Z] [worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock"}}
[debug] [2021-04-02T19:10:06.067Z] [worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: BUSY"}}
[debug] [2021-04-02T19:10:06.072Z] [runtime-status] [66397] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:10:06.073Z] [runtime-status] [66397] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:10:06.074Z] [runtime-status] [66397] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:10:06.074Z] [runtime-status] [66397] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66397.sock"}}
[debug] [2021-04-02T19:10:06.075Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:10:06.075Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:10:06.082Z] [runtime-status] [66397] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:10:06.088Z] [runtime-status] [66397] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66397] Ephemeral server survived."}}
[info] >  (node:66397) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66397) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66397) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66397) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66397) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66397) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66397) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66397) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66397) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:11:06.104Z] [worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: exited"}}
[debug] [2021-04-02T19:11:06.105Z] [worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf4f036d-42a9-4511-8809-e0fcb874a787]: FINISHED"}}
[debug] [2021-04-02T19:11:06.105Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:13:29.874Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:13:29.875Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:13:29.876Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=5998 --> api
[debug] [2021-04-02T19:13:29.876Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:13:29.887Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:13:29.888Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:13:29.888Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:13:29.889Z] [worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock"}}
[debug] [2021-04-02T19:13:29.889Z] [worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: BUSY"}}
[debug] [2021-04-02T19:13:30.462Z] [runtime-status] [66429] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:13:30.465Z] [runtime-status] [66429] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:13:30.471Z] [runtime-status] [66429] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:13:30.476Z] [runtime-status] [66429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:13:30.478Z] [runtime-status] [66429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:13:30.481Z] [runtime-status] [66429] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:13:30.481Z] [runtime-status] [66429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:13:30.602Z] [runtime-status] [66429] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:13:30.603Z] [runtime-status] [66429] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:13:30.604Z] [runtime-status] [66429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:13:30.605Z] [runtime-status] [66429] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:13:30.605Z] [runtime-status] [66429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:13:30.606Z] [runtime-status] [66429] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:13:30.972Z] [runtime-status] [66429] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:13:30.973Z] [runtime-status] [66429] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:13:30.973Z] [runtime-status] [66429] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:13:30.989Z] [runtime-status] [66429] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock"}}
[debug] [2021-04-02T19:13:30.993Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:13:30.993Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-04-02T19:13:31.009Z] [runtime-status] [66429] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 5998 {"user":"payment request recieved for this amount!! 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 5998"}}
[debug] [2021-04-02T19:13:31.036Z] [runtime-status] [66429] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:13:31.568Z] [worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: IDLE"}}
[debug] [2021-04-02T19:13:31.569Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:15:12.368Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:15:12.368Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:15:12.368Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:15:12.369Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:15:12.369Z] [worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock"}}
[debug] [2021-04-02T19:15:12.369Z] [worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: BUSY"}}
[debug] [2021-04-02T19:15:12.370Z] [runtime-status] [66429] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:15:12.370Z] [runtime-status] [66429] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:15:12.371Z] [runtime-status] [66429] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:15:12.371Z] [runtime-status] [66429] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66429.sock"}}
[debug] [2021-04-02T19:15:12.372Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:15:12.373Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:15:12.384Z] [runtime-status] [66429] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Ephemeral server handling POST request"}}
[debug] [2021-04-02T19:15:12.385Z] [runtime-status] [66429] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66429] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:66429) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66429) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66429) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66429) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66429) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66429) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66429) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66429) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66429) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-02T19:15:27.097Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-02T19:15:27.097Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-02T19:15:27.097Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=5998 --> api
[debug] [2021-04-02T19:15:27.108Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:15:27.108Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-02T19:15:27.108Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:15:27.109Z] [worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock"}}
[debug] [2021-04-02T19:15:27.109Z] [worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: BUSY"}}
[debug] [2021-04-02T19:15:27.634Z] [runtime-status] [66453] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:15:27.647Z] [runtime-status] [66453] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:15:27.656Z] [runtime-status] [66453] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:15:27.661Z] [runtime-status] [66453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:15:27.665Z] [runtime-status] [66453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:15:27.668Z] [runtime-status] [66453] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:15:27.672Z] [runtime-status] [66453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:15:27.772Z] [runtime-status] [66453] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:15:27.772Z] [runtime-status] [66453] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:15:27.774Z] [runtime-status] [66453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:15:27.775Z] [runtime-status] [66453] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:15:27.776Z] [runtime-status] [66453] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:15:27.776Z] [runtime-status] [66453] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:15:28.098Z] [runtime-status] [66453] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:15:28.099Z] [runtime-status] [66453] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:15:28.099Z] [runtime-status] [66453] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:15:28.109Z] [runtime-status] [66453] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock"}}
[debug] [2021-04-02T19:15:28.110Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:15:28.110Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-04-02T19:15:28.130Z] [runtime-status] [66453] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 5998 {"user":"payment request recieved for this amount!! 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 5998"}}
[debug] [2021-04-02T19:15:28.171Z] [runtime-status] [66453] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:15:28.765Z] [worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: IDLE"}}
[debug] [2021-04-02T19:15:28.766Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:16:12.394Z] [worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: exited"}}
[debug] [2021-04-02T19:16:12.394Z] [worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dae54c8d-b139-4b76-bdf3-f85f8a8ee830]: FINISHED"}}
[debug] [2021-04-02T19:16:12.394Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:17:52.013Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:17:52.014Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:17:52.014Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:17:52.014Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-02T19:17:52.014Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:17:52.015Z] [worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock"}}
[debug] [2021-04-02T19:17:52.015Z] [worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: BUSY"}}
[debug] [2021-04-02T19:17:52.017Z] [runtime-status] [66453] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:17:52.018Z] [runtime-status] [66453] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:17:52.018Z] [runtime-status] [66453] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:17:52.018Z] [runtime-status] [66453] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66453.sock"}}
[debug] [2021-04-02T19:17:52.020Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:17:52.020Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:17:52.029Z] [runtime-status] [66453] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:17:52.031Z] [runtime-status] [66453] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66453] Ephemeral server survived."}}
[info] >  (node:66453) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66453) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66453) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66453) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66453) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66453) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66453) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66453) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66453) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:18:52.072Z] [worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: exited"}}
[debug] [2021-04-02T19:18:52.072Z] [worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-731c3c69-ab3f-4198-81ee-afbd3dc2192f]: FINISHED"}}
[debug] [2021-04-02T19:18:52.073Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:19:15.773Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:19:15.773Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:19:15.773Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=5998 --> api
[debug] [2021-04-02T19:19:15.773Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:19:15.789Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:19:15.789Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:19:15.790Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:19:15.790Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock"}}
[debug] [2021-04-02T19:19:15.790Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: BUSY"}}
[debug] [2021-04-02T19:19:16.417Z] [runtime-status] [66486] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:19:16.419Z] [runtime-status] [66486] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:19:16.427Z] [runtime-status] [66486] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:19:16.466Z] [runtime-status] [66486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:19:16.472Z] [runtime-status] [66486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:19:16.479Z] [runtime-status] [66486] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:19:16.480Z] [runtime-status] [66486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:19:16.620Z] [runtime-status] [66486] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:19:16.621Z] [runtime-status] [66486] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:19:16.621Z] [runtime-status] [66486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:19:16.622Z] [runtime-status] [66486] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:19:16.623Z] [runtime-status] [66486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:19:16.623Z] [runtime-status] [66486] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:19:16.929Z] [runtime-status] [66486] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:19:16.930Z] [runtime-status] [66486] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:19:16.930Z] [runtime-status] [66486] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:19:16.935Z] [runtime-status] [66486] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock"}}
[debug] [2021-04-02T19:19:16.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:19:16.943Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-04-02T19:19:16.962Z] [runtime-status] [66486] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 5998 {"user":"payment request recieved for this amount!! 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 5998"}}
[debug] [2021-04-02T19:19:17.000Z] [runtime-status] [66486] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:19:17.482Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: IDLE"}}
[debug] [2021-04-02T19:19:17.482Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:19:39.123Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:19:39.123Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:19:39.123Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=5998 --> api
[debug] [2021-04-02T19:19:39.124Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:19:39.124Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock"}}
[debug] [2021-04-02T19:19:39.124Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: BUSY"}}
[debug] [2021-04-02T19:19:39.125Z] [runtime-status] [66486] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:19:39.129Z] [runtime-status] [66486] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:19:39.129Z] [runtime-status] [66486] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:19:39.129Z] [runtime-status] [66486] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock"}}
[debug] [2021-04-02T19:19:39.131Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:19:39.131Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-04-02T19:19:39.143Z] [runtime-status] [66486] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Ephemeral server handling POST request"}}
[debug] [2021-04-02T19:19:39.143Z] [runtime-status] [66486] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 5998 {"user":"payment request recieved for this amount!! 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 5998"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:19:39.439Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: IDLE"}}
[debug] [2021-04-02T19:19:39.440Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:19:40.706Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:19:40.707Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:19:40.707Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:19:40.707Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:19:40.707Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock"}}
[debug] [2021-04-02T19:19:40.707Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: BUSY"}}
[debug] [2021-04-02T19:19:40.707Z] [runtime-status] [66486] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:19:40.708Z] [runtime-status] [66486] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:19:40.708Z] [runtime-status] [66486] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:19:40.708Z] [runtime-status] [66486] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66486.sock"}}
[debug] [2021-04-02T19:19:40.709Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:19:40.709Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:19:40.715Z] [runtime-status] [66486] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Ephemeral server handling POST request"}}
[debug] [2021-04-02T19:19:40.715Z] [runtime-status] [66486] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66486] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:66486) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66486) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66486) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66486) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66486) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66486) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66486) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66486) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66486) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-02T19:20:06.542Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-02T19:20:06.543Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-02T19:20:06.543Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:20:06.550Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:20:06.550Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-02T19:20:06.550Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:20:06.551Z] [worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66513.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66513.sock"}}
[debug] [2021-04-02T19:20:06.551Z] [worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: BUSY"}}
[debug] [2021-04-02T19:20:07.068Z] [runtime-status] [66513] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:20:07.071Z] [runtime-status] [66513] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:20:07.074Z] [runtime-status] [66513] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:07.080Z] [runtime-status] [66513] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:07.091Z] [runtime-status] [66513] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:07.094Z] [runtime-status] [66513] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:20:07.095Z] [runtime-status] [66513] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:07.176Z] [runtime-status] [66513] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:20:07.176Z] [runtime-status] [66513] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:07.180Z] [runtime-status] [66513] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:07.180Z] [runtime-status] [66513] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:07.180Z] [runtime-status] [66513] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:07.180Z] [runtime-status] [66513] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:07.511Z] [runtime-status] [66513] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:20:07.513Z] [runtime-status] [66513] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:20:07.513Z] [runtime-status] [66513] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:20:07.537Z] [runtime-status] [66513] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66513.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66513.sock"}}
[debug] [2021-04-02T19:20:07.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:20:07.543Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:20:07.563Z] [runtime-status] [66513] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:20:07.629Z] [runtime-status] [66513] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66513] Ephemeral server survived."}}
[info] >  (node:66513) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66513) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66513) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66513) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66513) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66513) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66513) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66513) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66513) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-02T19:20:22.160Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-02T19:20:22.160Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-02T19:20:22.160Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:20:22.175Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:20:22.176Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-02T19:20:22.176Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:20:22.176Z] [worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66515.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66515.sock"}}
[debug] [2021-04-02T19:20:22.177Z] [worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: BUSY"}}
[debug] [2021-04-02T19:20:23.123Z] [runtime-status] [66515] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:20:23.126Z] [runtime-status] [66515] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:20:23.132Z] [runtime-status] [66515] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:23.138Z] [runtime-status] [66515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:23.142Z] [runtime-status] [66515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:23.146Z] [runtime-status] [66515] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:20:23.148Z] [runtime-status] [66515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:23.327Z] [runtime-status] [66515] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:20:23.327Z] [runtime-status] [66515] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:23.328Z] [runtime-status] [66515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:23.329Z] [runtime-status] [66515] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:23.329Z] [runtime-status] [66515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:23.330Z] [runtime-status] [66515] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:23.590Z] [runtime-status] [66515] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:20:23.591Z] [runtime-status] [66515] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:20:23.591Z] [runtime-status] [66515] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:20:23.610Z] [runtime-status] [66515] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66515.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66515.sock"}}
[debug] [2021-04-02T19:20:23.629Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:20:23.630Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:20:23.672Z] [runtime-status] [66515] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:20:23.814Z] [runtime-status] [66515] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66515] Ephemeral server survived."}}
[info] >  (node:66515) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66515) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66515) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66515) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66515) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66515) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66515) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66515) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66515) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-02T19:20:32.164Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-04-02T19:20:32.164Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-04-02T19:20:32.164Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:20:32.205Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:20:32.205Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-04-02T19:20:32.205Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:20:32.206Z] [worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66517.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66517.sock"}}
[debug] [2021-04-02T19:20:32.206Z] [worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: BUSY"}}
[debug] [2021-04-02T19:20:32.868Z] [runtime-status] [66517] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:20:32.870Z] [runtime-status] [66517] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:20:32.881Z] [runtime-status] [66517] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:32.917Z] [runtime-status] [66517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:32.921Z] [runtime-status] [66517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:32.923Z] [runtime-status] [66517] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:20:32.925Z] [runtime-status] [66517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:33.116Z] [runtime-status] [66517] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:20:33.126Z] [runtime-status] [66517] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:33.131Z] [runtime-status] [66517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:33.132Z] [runtime-status] [66517] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:33.133Z] [runtime-status] [66517] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:33.134Z] [runtime-status] [66517] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:33.500Z] [runtime-status] [66517] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:20:33.500Z] [runtime-status] [66517] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:20:33.501Z] [runtime-status] [66517] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:20:33.501Z] [runtime-status] [66517] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66517.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66517.sock"}}
[debug] [2021-04-02T19:20:33.502Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:20:33.503Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:20:33.716Z] [runtime-status] [66517] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:20:33.859Z] [runtime-status] [66517] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66517] Ephemeral server survived."}}
[info] >  (node:66517) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66517) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66517) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66517) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66517) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66517) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66517) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66517) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66517) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-02T19:20:34.512Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-04-02T19:20:34.512Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-04-02T19:20:34.513Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:20:34.519Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:20:34.519Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-04-02T19:20:34.519Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:20:34.519Z] [worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66520.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66520.sock"}}
[debug] [2021-04-02T19:20:34.519Z] [worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: BUSY"}}
[debug] [2021-04-02T19:20:35.285Z] [runtime-status] [66520] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:20:35.288Z] [runtime-status] [66520] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:20:35.295Z] [runtime-status] [66520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:35.302Z] [runtime-status] [66520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:35.327Z] [runtime-status] [66520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:35.523Z] [runtime-status] [66520] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:20:35.526Z] [runtime-status] [66520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:35.644Z] [runtime-status] [66520] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:20:35.645Z] [runtime-status] [66520] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:35.646Z] [runtime-status] [66520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:35.647Z] [runtime-status] [66520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:35.648Z] [runtime-status] [66520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:35.649Z] [runtime-status] [66520] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:35.829Z] [runtime-status] [66520] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:20:35.830Z] [runtime-status] [66520] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:20:35.830Z] [runtime-status] [66520] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:20:35.833Z] [runtime-status] [66520] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66520.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66520.sock"}}
[debug] [2021-04-02T19:20:35.836Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:20:35.836Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:20:35.860Z] [runtime-status] [66520] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:20:35.966Z] [runtime-status] [66520] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66520] Ephemeral server survived."}}
[info] >  (node:66520) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66520) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66520) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:20:40.745Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: exited"}}
[debug] [2021-04-02T19:20:40.745Z] [worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-69af5f7a-0be1-42f5-9360-8bf9fdaf6b1e]: FINISHED"}}
[debug] [2021-04-02T19:20:40.745Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-04-02T19:20:59.689Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-04-02T19:20:59.689Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-04-02T19:20:59.692Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:20:59.692Z] [worker-pool] Cleaned up workers for api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 4"}}
[debug] [2021-04-02T19:20:59.697Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:20:59.698Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-04-02T19:20:59.698Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:20:59.698Z] [worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66538.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66538.sock"}}
[debug] [2021-04-02T19:20:59.698Z] [worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: BUSY"}}
[debug] [2021-04-02T19:20:59.907Z] [runtime-status] [66538] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:20:59.909Z] [runtime-status] [66538] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:20:59.912Z] [runtime-status] [66538] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:59.915Z] [runtime-status] [66538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:59.920Z] [runtime-status] [66538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:59.923Z] [runtime-status] [66538] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:20:59.924Z] [runtime-status] [66538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:59.978Z] [runtime-status] [66538] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:20:59.978Z] [runtime-status] [66538] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:20:59.979Z] [runtime-status] [66538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:59.980Z] [runtime-status] [66538] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:59.980Z] [runtime-status] [66538] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:20:59.980Z] [runtime-status] [66538] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:21:00.203Z] [runtime-status] [66538] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:21:00.204Z] [runtime-status] [66538] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:21:00.204Z] [runtime-status] [66538] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:21:00.229Z] [runtime-status] [66538] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66538.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66538.sock"}}
[debug] [2021-04-02T19:21:00.234Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:21:00.234Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:21:00.248Z] [runtime-status] [66538] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:21:00.305Z] [runtime-status] [66538] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66538] Ephemeral server survived."}}
[info] >  (node:66538) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66538) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66538) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66538) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66538) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66538) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66538) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66538) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66538) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:21:07.612Z] [worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: exited"}}
[debug] [2021-04-02T19:21:07.612Z] [worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc6c51f3-353c-4496-a06c-074c8fdb3da7]: FINISHED"}}
[debug] [2021-04-02T19:21:07.612Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:21:23.658Z] [worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: exited"}}
[debug] [2021-04-02T19:21:23.658Z] [worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b49d37-4202-4fc8-bb28-b23b3b65c448]: FINISHED"}}
[debug] [2021-04-02T19:21:23.658Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:21:33.556Z] [worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: exited"}}
[debug] [2021-04-02T19:21:33.556Z] [worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e80f5fb0-6fa5-4507-a5cd-0027608fe5b1]: FINISHED"}}
[debug] [2021-04-02T19:21:33.557Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:21:35.886Z] [worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: exited"}}
[debug] [2021-04-02T19:21:35.886Z] [worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c299f2fb-2d13-4fbf-9371-1a6791f6c777]: FINISHED"}}
[debug] [2021-04-02T19:21:35.886Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:21:42.229Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-02T19:21:42.229Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-02T19:21:42.229Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:21:42.229Z] [worker-pool] Cleaned up workers for api: 5 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 1"}}
[debug] [2021-04-02T19:21:42.237Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:21:42.238Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-02T19:21:42.238Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:21:42.238Z] [worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66548.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66548.sock"}}
[debug] [2021-04-02T19:21:42.238Z] [worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: BUSY"}}
[debug] [2021-04-02T19:21:42.790Z] [runtime-status] [66548] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:21:42.806Z] [runtime-status] [66548] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:21:42.809Z] [runtime-status] [66548] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:21:42.823Z] [runtime-status] [66548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:21:42.830Z] [runtime-status] [66548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:21:42.836Z] [runtime-status] [66548] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:21:42.837Z] [runtime-status] [66548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:21:42.934Z] [runtime-status] [66548] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:21:42.935Z] [runtime-status] [66548] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:21:42.936Z] [runtime-status] [66548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:21:42.937Z] [runtime-status] [66548] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:21:42.938Z] [runtime-status] [66548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:21:42.938Z] [runtime-status] [66548] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:21:43.573Z] [runtime-status] [66548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:21:43.574Z] [runtime-status] [66548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:21:43.574Z] [runtime-status] [66548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:21:43.602Z] [runtime-status] [66548] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66548.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66548.sock"}}
[debug] [2021-04-02T19:21:43.611Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:21:43.612Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:21:43.654Z] [runtime-status] [66548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:21:43.717Z] [runtime-status] [66548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66548] Ephemeral server survived."}}
[info] >  (node:66548) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66548) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66548) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66548) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66548) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66548) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66548) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66548) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66548) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:22:00.257Z] [worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: exited"}}
[debug] [2021-04-02T19:22:00.257Z] [worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4201166-d599-42c3-b0b3-ef1656301894]: FINISHED"}}
[debug] [2021-04-02T19:22:00.257Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:22:23.509Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-02T19:22:23.510Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-02T19:22:23.510Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:22:23.510Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-02T19:22:23.525Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:22:23.525Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-02T19:22:23.525Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:22:23.525Z] [worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66589.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66589.sock"}}
[debug] [2021-04-02T19:22:23.525Z] [worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: BUSY"}}
[debug] [2021-04-02T19:22:24.155Z] [runtime-status] [66589] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:22:24.157Z] [runtime-status] [66589] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:22:24.161Z] [runtime-status] [66589] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:24.164Z] [runtime-status] [66589] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:24.173Z] [runtime-status] [66589] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:24.177Z] [runtime-status] [66589] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:22:24.178Z] [runtime-status] [66589] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:24.277Z] [runtime-status] [66589] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:22:24.278Z] [runtime-status] [66589] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:22:24.279Z] [runtime-status] [66589] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:24.283Z] [runtime-status] [66589] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:24.284Z] [runtime-status] [66589] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:24.285Z] [runtime-status] [66589] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:22:24.781Z] [runtime-status] [66589] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:22:24.782Z] [runtime-status] [66589] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:22:24.783Z] [runtime-status] [66589] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:22:24.815Z] [runtime-status] [66589] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66589.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66589.sock"}}
[debug] [2021-04-02T19:22:24.819Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:22:24.819Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:22:24.844Z] [runtime-status] [66589] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:22:24.910Z] [runtime-status] [66589] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66589] Ephemeral server survived."}}
[info] >  (node:66589) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66589) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66589) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66589) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66589) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66589) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66589) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66589) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66589) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:22:43.599Z] [worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: exited"}}
[debug] [2021-04-02T19:22:43.599Z] [worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc26ec80-1047-4e52-a942-04029e00494f]: FINISHED"}}
[debug] [2021-04-02T19:22:43.600Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:22:45.213Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-02T19:22:45.214Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-02T19:22:45.214Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:22:45.214Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-02T19:22:45.222Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:22:45.223Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-02T19:22:45.223Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:22:45.224Z] [worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66612.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66612.sock"}}
[debug] [2021-04-02T19:22:45.224Z] [worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: BUSY"}}
[debug] [2021-04-02T19:22:46.147Z] [runtime-status] [66612] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:22:46.148Z] [runtime-status] [66612] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:22:46.156Z] [runtime-status] [66612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:46.161Z] [runtime-status] [66612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:46.163Z] [runtime-status] [66612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:46.168Z] [runtime-status] [66612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:22:46.169Z] [runtime-status] [66612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:46.291Z] [runtime-status] [66612] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:22:46.291Z] [runtime-status] [66612] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:22:46.292Z] [runtime-status] [66612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:46.295Z] [runtime-status] [66612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:46.295Z] [runtime-status] [66612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:22:46.296Z] [runtime-status] [66612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:22:46.623Z] [runtime-status] [66612] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:22:46.624Z] [runtime-status] [66612] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:22:46.624Z] [runtime-status] [66612] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:22:46.642Z] [runtime-status] [66612] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66612.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66612.sock"}}
[debug] [2021-04-02T19:22:46.650Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:22:46.651Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:22:46.678Z] [runtime-status] [66612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:22:46.716Z] [runtime-status] [66612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66612] Ephemeral server survived."}}
[info] >  (node:66612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:23:24.796Z] [worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: exited"}}
[debug] [2021-04-02T19:23:24.796Z] [worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ff9fc6-5e5e-476b-9211-eae41416eb3e]: FINISHED"}}
[debug] [2021-04-02T19:23:24.796Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:23:46.669Z] [worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: exited"}}
[debug] [2021-04-02T19:23:46.669Z] [worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bff48155-a155-44f7-9367-c93588c8e79d]: FINISHED"}}
[debug] [2021-04-02T19:23:46.669Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:24:20.862Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:24:20.863Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:24:20.863Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:24:20.863Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-02T19:24:20.868Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:24:20.869Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:24:20.869Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:24:20.869Z] [worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66647.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66647.sock"}}
[debug] [2021-04-02T19:24:20.869Z] [worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: BUSY"}}
[debug] [2021-04-02T19:24:21.696Z] [runtime-status] [66647] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:24:21.698Z] [runtime-status] [66647] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:24:21.705Z] [runtime-status] [66647] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:24:21.712Z] [runtime-status] [66647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:24:21.716Z] [runtime-status] [66647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:24:21.721Z] [runtime-status] [66647] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:24:21.721Z] [runtime-status] [66647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:24:21.844Z] [runtime-status] [66647] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:24:21.847Z] [runtime-status] [66647] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:24:21.848Z] [runtime-status] [66647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:24:21.849Z] [runtime-status] [66647] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:24:21.849Z] [runtime-status] [66647] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:24:21.849Z] [runtime-status] [66647] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:24:22.442Z] [runtime-status] [66647] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:24:22.451Z] [runtime-status] [66647] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:24:22.452Z] [runtime-status] [66647] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:24:22.457Z] [runtime-status] [66647] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66647.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66647.sock"}}
[debug] [2021-04-02T19:24:22.471Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:24:22.471Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:24:22.498Z] [runtime-status] [66647] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:24:22.571Z] [runtime-status] [66647] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66647] Ephemeral server survived."}}
[info] >  (node:66647) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66647) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66647) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66647) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66647) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66647) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66647) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66647) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66647) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:25:22.512Z] [worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: exited"}}
[debug] [2021-04-02T19:25:22.512Z] [worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2af907eb-d12e-4bef-9949-e0c2558514f0]: FINISHED"}}
[debug] [2021-04-02T19:25:22.512Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:25:27.586Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:25:27.586Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:25:27.586Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:25:27.586Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:25:27.595Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:25:27.595Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:25:27.595Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:25:27.595Z] [worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66711.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66711.sock"}}
[debug] [2021-04-02T19:25:27.595Z] [worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: BUSY"}}
[debug] [2021-04-02T19:25:28.186Z] [runtime-status] [66711] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:25:28.188Z] [runtime-status] [66711] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:25:28.194Z] [runtime-status] [66711] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:25:28.201Z] [runtime-status] [66711] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:25:28.217Z] [runtime-status] [66711] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:25:28.217Z] [runtime-status] [66711] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:25:28.221Z] [runtime-status] [66711] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:25:28.447Z] [runtime-status] [66711] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:25:28.447Z] [runtime-status] [66711] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:25:28.450Z] [runtime-status] [66711] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:25:28.452Z] [runtime-status] [66711] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:25:28.452Z] [runtime-status] [66711] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:25:28.452Z] [runtime-status] [66711] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:25:28.749Z] [runtime-status] [66711] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:25:28.750Z] [runtime-status] [66711] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:25:28.750Z] [runtime-status] [66711] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:25:28.758Z] [runtime-status] [66711] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66711.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66711.sock"}}
[debug] [2021-04-02T19:25:28.759Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:25:28.760Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:25:28.787Z] [runtime-status] [66711] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:25:28.822Z] [runtime-status] [66711] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66711] Ephemeral server survived."}}
[info] >  (node:66711) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66711) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66711) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66711) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66711) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66711) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66711) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66711) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66711) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:26:28.786Z] [worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: exited"}}
[debug] [2021-04-02T19:26:28.786Z] [worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad299ce3-ef21-4407-a5f5-8001e3641651]: FINISHED"}}
[debug] [2021-04-02T19:26:28.786Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:34:08.266Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:34:08.266Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:34:08.266Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=244271 --> api
[debug] [2021-04-02T19:34:08.267Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:34:08.279Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:34:08.280Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:34:08.281Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:34:08.281Z] [worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock"}}
[debug] [2021-04-02T19:34:08.281Z] [worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: BUSY"}}
[debug] [2021-04-02T19:34:08.748Z] [runtime-status] [66758] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:34:08.751Z] [runtime-status] [66758] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:34:08.756Z] [runtime-status] [66758] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:34:08.761Z] [runtime-status] [66758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:34:08.765Z] [runtime-status] [66758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:34:08.766Z] [runtime-status] [66758] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:34:08.767Z] [runtime-status] [66758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:34:08.874Z] [runtime-status] [66758] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:34:08.874Z] [runtime-status] [66758] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:34:08.875Z] [runtime-status] [66758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:34:08.876Z] [runtime-status] [66758] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:34:08.876Z] [runtime-status] [66758] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:34:08.876Z] [runtime-status] [66758] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:34:09.268Z] [runtime-status] [66758] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:34:09.269Z] [runtime-status] [66758] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:34:09.269Z] [runtime-status] [66758] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:34:09.276Z] [runtime-status] [66758] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock"}}
[debug] [2021-04-02T19:34:09.277Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:34:09.278Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=244271, mapping to path=/payments/create?total=244271 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=244271, mapping to path=/payments/create?total=244271"}}
[debug] [2021-04-02T19:34:09.290Z] [runtime-status] [66758] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 244271 {"user":"payment request recieved for this amount!! 244271","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 244271"}}
[debug] [2021-04-02T19:34:09.321Z] [runtime-status] [66758] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:34:09.866Z] [worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: IDLE"}}
[debug] [2021-04-02T19:34:09.866Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:35:13.199Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:35:13.200Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:35:13.200Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:35:13.200Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:35:13.200Z] [worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock"}}
[debug] [2021-04-02T19:35:13.200Z] [worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: BUSY"}}
[debug] [2021-04-02T19:35:13.204Z] [runtime-status] [66758] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:35:13.205Z] [runtime-status] [66758] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:35:13.205Z] [runtime-status] [66758] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:35:13.205Z] [runtime-status] [66758] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66758.sock"}}
[debug] [2021-04-02T19:35:13.208Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:35:13.208Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:35:13.228Z] [runtime-status] [66758] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Ephemeral server handling POST request"}}
[debug] [2021-04-02T19:35:13.228Z] [runtime-status] [66758] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66758] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:66758) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66758) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66758) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66758) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66758) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66758) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66758) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66758) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66758) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:36:13.237Z] [worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: exited"}}
[debug] [2021-04-02T19:36:13.237Z] [worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1004fd0a-79f7-4a5c-9fbe-c4c781983a7d]: FINISHED"}}
[debug] [2021-04-02T19:36:13.237Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:36:40.849Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:36:40.850Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:36:40.850Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=11996 --> api
[debug] [2021-04-02T19:36:40.850Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:36:40.865Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:36:40.865Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:36:40.866Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:36:40.866Z] [worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock"}}
[debug] [2021-04-02T19:36:40.866Z] [worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: BUSY"}}
[debug] [2021-04-02T19:36:41.286Z] [runtime-status] [66768] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:36:41.288Z] [runtime-status] [66768] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:36:41.296Z] [runtime-status] [66768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:36:41.300Z] [runtime-status] [66768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:36:41.304Z] [runtime-status] [66768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:36:41.307Z] [runtime-status] [66768] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:36:41.311Z] [runtime-status] [66768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:36:41.409Z] [runtime-status] [66768] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:36:41.410Z] [runtime-status] [66768] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:36:41.410Z] [runtime-status] [66768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:36:41.410Z] [runtime-status] [66768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:36:41.410Z] [runtime-status] [66768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:36:41.410Z] [runtime-status] [66768] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:36:41.706Z] [runtime-status] [66768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:36:41.706Z] [runtime-status] [66768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:36:41.707Z] [runtime-status] [66768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:36:41.715Z] [runtime-status] [66768] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock"}}
[debug] [2021-04-02T19:36:41.722Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:36:41.722Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=11996, mapping to path=/payments/create?total=11996"}}
[debug] [2021-04-02T19:36:41.749Z] [runtime-status] [66768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 11996 {"user":"payment request recieved for this amount!! 11996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 11996"}}
[debug] [2021-04-02T19:36:41.771Z] [runtime-status] [66768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:36:42.305Z] [worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: IDLE"}}
[debug] [2021-04-02T19:36:42.305Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:37:55.689Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:37:55.690Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:37:55.690Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:37:55.690Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:37:55.690Z] [worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock"}}
[debug] [2021-04-02T19:37:55.690Z] [worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: BUSY"}}
[debug] [2021-04-02T19:37:55.692Z] [runtime-status] [66768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:37:55.693Z] [runtime-status] [66768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:37:55.693Z] [runtime-status] [66768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:37:55.693Z] [runtime-status] [66768] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66768.sock"}}
[debug] [2021-04-02T19:37:55.694Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:37:55.694Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:37:55.703Z] [runtime-status] [66768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T19:37:55.709Z] [runtime-status] [66768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66768] Ephemeral server survived."}}
[info] >  (node:66768) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66768) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66768) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:38:55.716Z] [worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: exited"}}
[debug] [2021-04-02T19:38:55.716Z] [worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f40b507c-8a95-40de-8e3e-414b612a1b33]: FINISHED"}}
[debug] [2021-04-02T19:38:55.716Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:40:50.383Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:40:50.383Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:40:50.383Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=13100 --> api
[debug] [2021-04-02T19:40:50.383Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:40:50.397Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:40:50.397Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:40:50.397Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:40:50.397Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock"}}
[debug] [2021-04-02T19:40:50.398Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: BUSY"}}
[debug] [2021-04-02T19:40:50.911Z] [runtime-status] [66821] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:40:50.913Z] [runtime-status] [66821] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:40:50.920Z] [runtime-status] [66821] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:40:50.928Z] [runtime-status] [66821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:40:50.935Z] [runtime-status] [66821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:40:50.936Z] [runtime-status] [66821] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:40:50.939Z] [runtime-status] [66821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:40:51.038Z] [runtime-status] [66821] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:40:51.038Z] [runtime-status] [66821] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:40:51.040Z] [runtime-status] [66821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:40:51.042Z] [runtime-status] [66821] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:40:51.042Z] [runtime-status] [66821] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:40:51.042Z] [runtime-status] [66821] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:40:51.337Z] [runtime-status] [66821] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:40:51.339Z] [runtime-status] [66821] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:40:51.339Z] [runtime-status] [66821] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:40:51.347Z] [runtime-status] [66821] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock"}}
[debug] [2021-04-02T19:40:51.357Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:40:51.357Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=13100, mapping to path=/payments/create?total=13100 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=13100, mapping to path=/payments/create?total=13100"}}
[debug] [2021-04-02T19:40:51.385Z] [runtime-status] [66821] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 13100 {"user":"payment request recieved for this amount!! 13100","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 13100"}}
[debug] [2021-04-02T19:40:51.431Z] [runtime-status] [66821] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:40:52.078Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: IDLE"}}
[debug] [2021-04-02T19:40:52.078Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:42:05.471Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:42:05.471Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:42:05.471Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=13100 --> api
[debug] [2021-04-02T19:42:05.472Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:42:05.472Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock"}}
[debug] [2021-04-02T19:42:05.472Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: BUSY"}}
[debug] [2021-04-02T19:42:05.473Z] [runtime-status] [66821] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:42:05.474Z] [runtime-status] [66821] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:42:05.474Z] [runtime-status] [66821] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:42:05.474Z] [runtime-status] [66821] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock"}}
[debug] [2021-04-02T19:42:05.477Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:42:05.478Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=13100, mapping to path=/payments/create?total=13100 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=13100, mapping to path=/payments/create?total=13100"}}
[debug] [2021-04-02T19:42:05.484Z] [runtime-status] [66821] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Ephemeral server handling POST request"}}
[debug] [2021-04-02T19:42:05.485Z] [runtime-status] [66821] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 13100 {"user":"payment request recieved for this amount!! 13100","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 13100"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:42:05.901Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: IDLE"}}
[debug] [2021-04-02T19:42:05.901Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:43:41.601Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:43:41.602Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:43:41.602Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:43:41.602Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:43:41.602Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock"}}
[debug] [2021-04-02T19:43:41.603Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: BUSY"}}
[debug] [2021-04-02T19:43:41.608Z] [runtime-status] [66821] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:43:41.615Z] [runtime-status] [66821] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:43:41.615Z] [runtime-status] [66821] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:43:41.615Z] [runtime-status] [66821] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66821.sock"}}
[debug] [2021-04-02T19:43:41.617Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:43:41.617Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:43:41.627Z] [runtime-status] [66821] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Ephemeral server handling POST request"}}
[debug] [2021-04-02T19:43:41.627Z] [runtime-status] [66821] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66821] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:66821) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66821) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66821) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66821) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66821) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66821) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66821) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66821) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66821) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:44:41.632Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: exited"}}
[debug] [2021-04-02T19:44:41.632Z] [worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-456f301b-d675-40a5-bd52-88b4ead48b96]: FINISHED"}}
[debug] [2021-04-02T19:44:41.632Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:44:58.810Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:44:58.812Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:44:58.812Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-04-02T19:44:58.812Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:44:58.824Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:44:58.825Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:44:58.825Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:44:58.825Z] [worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock"}}
[debug] [2021-04-02T19:44:58.825Z] [worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: BUSY"}}
[debug] [2021-04-02T19:44:59.393Z] [runtime-status] [66846] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:44:59.398Z] [runtime-status] [66846] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:44:59.404Z] [runtime-status] [66846] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:44:59.410Z] [runtime-status] [66846] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:44:59.418Z] [runtime-status] [66846] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:44:59.419Z] [runtime-status] [66846] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:44:59.420Z] [runtime-status] [66846] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:44:59.519Z] [runtime-status] [66846] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:44:59.520Z] [runtime-status] [66846] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:44:59.520Z] [runtime-status] [66846] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:44:59.521Z] [runtime-status] [66846] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:44:59.522Z] [runtime-status] [66846] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:44:59.522Z] [runtime-status] [66846] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:44:59.940Z] [runtime-status] [66846] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:44:59.941Z] [runtime-status] [66846] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:44:59.941Z] [runtime-status] [66846] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:44:59.952Z] [runtime-status] [66846] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock"}}
[debug] [2021-04-02T19:44:59.959Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:44:59.959Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-04-02T19:44:59.984Z] [runtime-status] [66846] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 2999 {"user":"payment request recieved for this amount!! 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 2999"}}
[debug] [2021-04-02T19:45:00.012Z] [runtime-status] [66846] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:45:00.583Z] [worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: IDLE"}}
[debug] [2021-04-02T19:45:00.583Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:45:27.372Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:45:27.372Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:45:27.374Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T19:45:27.374Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:45:27.374Z] [worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock"}}
[debug] [2021-04-02T19:45:27.374Z] [worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: BUSY"}}
[debug] [2021-04-02T19:45:27.381Z] [runtime-status] [66846] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:45:27.381Z] [runtime-status] [66846] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:45:27.382Z] [runtime-status] [66846] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:45:27.382Z] [runtime-status] [66846] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66846.sock"}}
[debug] [2021-04-02T19:45:27.383Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:45:27.383Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T19:45:27.392Z] [runtime-status] [66846] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Ephemeral server handling POST request"}}
[debug] [2021-04-02T19:45:27.393Z] [runtime-status] [66846] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66846] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:66846) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66846) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66846) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66846) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66846) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66846) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66846) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66846) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66846) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T19:46:27.403Z] [worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: exited"}}
[debug] [2021-04-02T19:46:27.403Z] [worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4466927-1021-4f2c-bee4-0b8643f78611]: FINISHED"}}
[debug] [2021-04-02T19:46:27.403Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T19:58:47.344Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T19:58:47.346Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T19:58:47.346Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=10324 --> api
[debug] [2021-04-02T19:58:47.346Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T19:58:47.354Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T19:58:47.355Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T19:58:47.355Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T19:58:47.356Z] [worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock"}}
[debug] [2021-04-02T19:58:47.356Z] [worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: BUSY"}}
[debug] [2021-04-02T19:58:47.921Z] [runtime-status] [66948] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T19:58:47.923Z] [runtime-status] [66948] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Disabled runtime features: undefined"}}
[debug] [2021-04-02T19:58:47.930Z] [runtime-status] [66948] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:58:47.936Z] [runtime-status] [66948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:58:47.938Z] [runtime-status] [66948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:58:47.941Z] [runtime-status] [66948] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T19:58:47.942Z] [runtime-status] [66948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:58:48.047Z] [runtime-status] [66948] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T19:58:48.047Z] [runtime-status] [66948] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T19:58:48.048Z] [runtime-status] [66948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:58:48.052Z] [runtime-status] [66948] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T19:58:48.053Z] [runtime-status] [66948] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T19:58:48.053Z] [runtime-status] [66948] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T19:58:48.408Z] [runtime-status] [66948] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T19:58:48.414Z] [runtime-status] [66948] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T19:58:48.414Z] [runtime-status] [66948] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Running api in mode HTTPS"}}
[debug] [2021-04-02T19:58:48.415Z] [runtime-status] [66948] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock"}}
[debug] [2021-04-02T19:58:48.425Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T19:58:48.425Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=10324, mapping to path=/payments/create?total=10324"}}
[debug] [2021-04-02T19:58:48.449Z] [runtime-status] [66948] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 10324 {"user":"payment request recieved for this amount!! 10324","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 10324"}}
[debug] [2021-04-02T19:58:48.648Z] [runtime-status] [66948] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T19:58:49.182Z] [worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: IDLE"}}
[debug] [2021-04-02T19:58:49.182Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T20:00:05.223Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T20:00:05.223Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T20:00:05.223Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T20:00:05.223Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T20:00:05.223Z] [worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock"}}
[debug] [2021-04-02T20:00:05.223Z] [worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: BUSY"}}
[debug] [2021-04-02T20:00:05.228Z] [runtime-status] [66948] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T20:00:05.228Z] [runtime-status] [66948] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T20:00:05.229Z] [runtime-status] [66948] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Running api in mode HTTPS"}}
[debug] [2021-04-02T20:00:05.229Z] [runtime-status] [66948] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66948.sock"}}
[debug] [2021-04-02T20:00:05.230Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T20:00:05.230Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T20:00:05.246Z] [runtime-status] [66948] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Ephemeral server handling POST request"}}
[debug] [2021-04-02T20:00:05.246Z] [runtime-status] [66948] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66948] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:66948) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66948) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66948) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66948) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66948) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66948) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66948) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66948) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66948) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T20:01:05.268Z] [worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: exited"}}
[debug] [2021-04-02T20:01:05.269Z] [worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64d9bc79-e446-4c3d-a9bb-83e5ef6329e9]: FINISHED"}}
[debug] [2021-04-02T20:01:05.269Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T20:07:07.224Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T20:07:07.224Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T20:07:07.224Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=5998 --> api
[debug] [2021-04-02T20:07:07.225Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T20:07:07.236Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T20:07:07.236Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T20:07:07.236Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T20:07:07.236Z] [worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock"}}
[debug] [2021-04-02T20:07:07.236Z] [worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: BUSY"}}
[debug] [2021-04-02T20:07:07.849Z] [runtime-status] [66990] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T20:07:07.851Z] [runtime-status] [66990] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Disabled runtime features: undefined"}}
[debug] [2021-04-02T20:07:07.857Z] [runtime-status] [66990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T20:07:07.862Z] [runtime-status] [66990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:07:07.864Z] [runtime-status] [66990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:07:07.868Z] [runtime-status] [66990] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T20:07:07.868Z] [runtime-status] [66990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:07:07.971Z] [runtime-status] [66990] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T20:07:07.971Z] [runtime-status] [66990] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T20:07:07.972Z] [runtime-status] [66990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:07:07.973Z] [runtime-status] [66990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T20:07:07.974Z] [runtime-status] [66990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:07:07.974Z] [runtime-status] [66990] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T20:07:08.310Z] [runtime-status] [66990] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T20:07:08.311Z] [runtime-status] [66990] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T20:07:08.311Z] [runtime-status] [66990] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Running api in mode HTTPS"}}
[debug] [2021-04-02T20:07:08.511Z] [runtime-status] [66990] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock"}}
[debug] [2021-04-02T20:07:08.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T20:07:08.543Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=5998, mapping to path=/payments/create?total=5998"}}
[debug] [2021-04-02T20:07:08.581Z] [runtime-status] [66990] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 5998 {"user":"payment request recieved for this amount!! 5998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 5998"}}
[debug] [2021-04-02T20:07:08.658Z] [runtime-status] [66990] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T20:07:09.105Z] [worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: IDLE"}}
[debug] [2021-04-02T20:07:09.105Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T20:07:17.546Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T20:07:17.546Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T20:07:17.546Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T20:07:17.546Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T20:07:17.546Z] [worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock"}}
[debug] [2021-04-02T20:07:17.546Z] [worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: BUSY"}}
[debug] [2021-04-02T20:07:17.553Z] [runtime-status] [66990] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T20:07:17.554Z] [runtime-status] [66990] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T20:07:17.554Z] [runtime-status] [66990] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Running api in mode HTTPS"}}
[debug] [2021-04-02T20:07:17.554Z] [runtime-status] [66990] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_66990.sock"}}
[debug] [2021-04-02T20:07:17.555Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T20:07:17.555Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T20:07:17.562Z] [runtime-status] [66990] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[debug] [2021-04-02T20:07:17.577Z] [runtime-status] [66990] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [66990] Ephemeral server survived."}}
[info] >  (node:66990) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:66990) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66990) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:66990) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:66990) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66990) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:66990) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:66990) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:66990) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T20:08:17.609Z] [worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: exited"}}
[debug] [2021-04-02T20:08:17.609Z] [worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-85ab720a-4d6f-4230-8510-fc49258ba245]: FINISHED"}}
[debug] [2021-04-02T20:08:17.609Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T20:10:17.556Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T20:10:17.557Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T20:10:17.557Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=1000 --> api
[debug] [2021-04-02T20:10:17.557Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T20:10:17.569Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T20:10:17.569Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T20:10:17.569Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T20:10:17.571Z] [worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock"}}
[debug] [2021-04-02T20:10:17.571Z] [worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: BUSY"}}
[debug] [2021-04-02T20:10:18.346Z] [runtime-status] [67005] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T20:10:18.348Z] [runtime-status] [67005] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Disabled runtime features: undefined"}}
[debug] [2021-04-02T20:10:18.358Z] [runtime-status] [67005] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T20:10:18.363Z] [runtime-status] [67005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:10:18.367Z] [runtime-status] [67005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:10:18.372Z] [runtime-status] [67005] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T20:10:18.372Z] [runtime-status] [67005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:10:18.533Z] [runtime-status] [67005] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T20:10:18.534Z] [runtime-status] [67005] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T20:10:18.534Z] [runtime-status] [67005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:10:18.536Z] [runtime-status] [67005] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T20:10:18.539Z] [runtime-status] [67005] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:10:18.540Z] [runtime-status] [67005] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T20:10:18.965Z] [runtime-status] [67005] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T20:10:18.966Z] [runtime-status] [67005] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T20:10:18.966Z] [runtime-status] [67005] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Running api in mode HTTPS"}}
[debug] [2021-04-02T20:10:18.975Z] [runtime-status] [67005] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock"}}
[debug] [2021-04-02T20:10:18.976Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T20:10:18.976Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2021-04-02T20:10:18.997Z] [runtime-status] [67005] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 1000 {"user":"payment request recieved for this amount!! 1000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 1000"}}
[debug] [2021-04-02T20:10:19.043Z] [runtime-status] [67005] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T20:10:19.529Z] [worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: IDLE"}}
[debug] [2021-04-02T20:10:19.530Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T20:10:29.048Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T20:10:29.048Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T20:10:29.048Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T20:10:29.048Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T20:10:29.049Z] [worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock"}}
[debug] [2021-04-02T20:10:29.049Z] [worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: BUSY"}}
[debug] [2021-04-02T20:10:29.052Z] [runtime-status] [67005] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T20:10:29.053Z] [runtime-status] [67005] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T20:10:29.053Z] [runtime-status] [67005] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Running api in mode HTTPS"}}
[debug] [2021-04-02T20:10:29.053Z] [runtime-status] [67005] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67005.sock"}}
[debug] [2021-04-02T20:10:29.054Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T20:10:29.054Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T20:10:29.068Z] [runtime-status] [67005] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Ephemeral server handling POST request"}}
[debug] [2021-04-02T20:10:29.068Z] [runtime-status] [67005] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67005] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:67005) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:67005) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67005) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:67005) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:67005) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67005) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:67005) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:67005) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67005) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T20:11:29.091Z] [worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: exited"}}
[debug] [2021-04-02T20:11:29.091Z] [worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8c4c1fa-ed56-456a-8760-c416b408289d]: FINISHED"}}
[debug] [2021-04-02T20:11:29.091Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T20:37:45.318Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T20:37:45.319Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T20:37:45.320Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=640989 --> api
[debug] [2021-04-02T20:37:45.320Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-02T20:37:45.327Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-02T20:37:45.328Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-02T20:37:45.328Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T20:37:45.329Z] [worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock"}}
[debug] [2021-04-02T20:37:45.329Z] [worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: BUSY"}}
[debug] [2021-04-02T20:37:45.836Z] [runtime-status] [67339] Functions runtime initialized. {"cwd":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Functions runtime initialized. {\"cwd\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-04-02T20:37:45.837Z] [runtime-status] [67339] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Disabled runtime features: undefined"}}
[debug] [2021-04-02T20:37:45.846Z] [runtime-status] [67339] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T20:37:45.848Z] [runtime-status] [67339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:37:45.854Z] [runtime-status] [67339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:37:45.855Z] [runtime-status] [67339] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-02T20:37:45.856Z] [runtime-status] [67339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:37:45.987Z] [runtime-status] [67339] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-02T20:37:45.987Z] [runtime-status] [67339] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-04-02T20:37:45.987Z] [runtime-status] [67339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:37:45.989Z] [runtime-status] [67339] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-04-02T20:37:45.989Z] [runtime-status] [67339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-04-02T20:37:45.989Z] [runtime-status] [67339] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.6.0","resolution":"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.6.0\",\"resolution\":\"/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-04-02T20:37:46.324Z] [runtime-status] [67339] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T20:37:46.327Z] [runtime-status] [67339] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T20:37:46.327Z] [runtime-status] [67339] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Running api in mode HTTPS"}}
[debug] [2021-04-02T20:37:46.337Z] [runtime-status] [67339] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock"}}
[debug] [2021-04-02T20:37:46.340Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T20:37:46.341Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=640989, mapping to path=/payments/create?total=640989 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=640989, mapping to path=/payments/create?total=640989"}}
[debug] [2021-04-02T20:37:46.355Z] [runtime-status] [67339] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Ephemeral server handling POST request"}}
[info] >  payment request recieved for this amount!! 640989 {"user":"payment request recieved for this amount!! 640989","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 640989"}}
[debug] [2021-04-02T20:37:46.392Z] [runtime-status] [67339] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-02T20:37:46.839Z] [worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: IDLE"}}
[debug] [2021-04-02T20:37:46.839Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-02T20:38:01.305Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-02T20:38:01.305Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-02T20:38:01.306Z] Accepted request POST /fir-clone-f64a5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-02T20:38:01.306Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-02T20:38:01.306Z] [worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: Assigning socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock"}}
[debug] [2021-04-02T20:38:01.306Z] [worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: BUSY"}}
[debug] [2021-04-02T20:38:01.315Z] [runtime-status] [67339] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-02T20:38:01.315Z] [runtime-status] [67339] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-02T20:38:01.315Z] [runtime-status] [67339] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Running api in mode HTTPS"}}
[debug] [2021-04-02T20:38:01.316Z] [runtime-status] [67339] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Attempting to listen to socketPath: /var/folders/06/6dr2zxb97958wd5y88505m1m0000gn/T/fire_emu_67339.sock"}}
[debug] [2021-04-02T20:38:01.323Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-02T20:38:01.323Z] [functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/fir-clone-f64a5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-04-02T20:38:01.353Z] [runtime-status] [67339] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Ephemeral server handling POST request"}}
[debug] [2021-04-02T20:38:01.354Z] [runtime-status] [67339] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67339] Ephemeral server survived."}}
[info] >  payment request recieved for this amount!! 0 {"user":"payment request recieved for this amount!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for this amount!! 0"}}
[info] >  (node:67339) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:67339) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67339) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/danielwoldehana/CODE101/CLONE-PROJECTS/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:67339) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:67339) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67339) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:67339) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:67339) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67339) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:644:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-04-02T20:39:01.330Z] [worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: exited"}}
[debug] [2021-04-02T20:39:01.331Z] [worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4733c6d-d8bf-4310-847d-695ed137d8c4]: FINISHED"}}
[debug] [2021-04-02T20:39:01.331Z] [work-queue] {"queueLength":0,"workRunningCount":0}
